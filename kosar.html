<!DOCTYPE html>
<html lang="hu">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1">
		
		<title>Geon | Kosár</title>

		<link href="http://fonts.googleapis.com/css?family=Roboto:400,700|" rel="stylesheet" type="text/css">
		<link href="fonts/font-awesome.min.css" rel="stylesheet" type="text/css">
		<link href="fonts/lineo-icon/style.css" rel="stylesheet" type="text/css">

		<link rel="stylesheet" href="style.css">
		
		<script src="js/ie-support/html5.js"></script>
		<script src="js/ie-support/respond.js"></script>

	</head>


	<body>
		
		<div id="site-content">
			<div class="site-header">
				<div class="container">
					<a href="index.html" id="branding">
						<img src="images/logo.png" alt="" class="logo">
						<div class="logo-text">
							<h1 class="site-title">Geon</h1>
							<small class="site-description">saddsadsadsdsa</small>
						</div>
					</a>

					<div class="right-section pull-right">
						<a href="cart.html" class="cart"><i class="icon-cart"></i>0 tárgy a kosárban</a>
						<a href="#">Fiókom</a>
						<a href="#">Kilésés<small>(néb)</small></a>
					</div>>

					<div class="main-navigation">
						<button class="toggle-menu"><i class="fa fa-bars"></i></button>
						<ul class="menu">
							<li class="menu-item home current-menu-item"><a href="index.html"><i class="icon-home"></i></a></li>
							<li class="menu-item"><a href="bolt/jatekok.html">Játékok</a></li>
							<li class="menu-item"><a href="bolt/part.html">Alkatrészek</a></li>
							<li class="menu-item"><a href="bolt/perif.html">Perifériák</a></li>
						</ul>
						<div class="search-form">
							<label><img src="images/icon-search.png"></label>
							<input type="text" placeholder="Keresés">
						</div>

						<div class="mobile-navigation"></div>
					</div>

					<div class="breadcrumbs">
						<div class="container">
							<a href="index.html">Home</a>
							<span>Kosár</span>
						</div>
					</div>
				</div>
			</div>
			<main class="main-content">
				<div class="container">
					<div class="page">
					
					 <div class="container flex">
  <div class="structure">
    <h1>Shopping cart</h1>

    <table id="table">
      <thead>
        <tr>
          <th>Product name</th>
          <th>Unit price</th>
          <th>Quantity</th>
          <th>Subtotal</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="all_products">
        <tr>
          <td>This is a product name</td>
          <td>1.80</td>
          <td class="quantity"><input type="number" placeholder="Unit price" min="0" value="2" contenteditable></td>
          <td>3.60</td>
          <td class="remove"><button type="button">Remove</button></td>
        </tr>
        <tr>
          <td>Postcard</td>
          <td>2.99</td>
          <td class="quantity"><input type="number" placeholder="Unit price" min="0" value="1" contenteditable></td>
          <td>2.99</td>
          <td class="remove"><button type="button">Remove</button></td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td><input type="text" id="name_product" placeholder="Name of the product" contenteditable></td>
          <td><input  type="number" step="0.01" id="price_product" value="0.50" contenteditable></td>
          <td></td>
          <td></td>
          <td><button type="button" id="add_button">Add product</button></td>
        </tr>
      </tfoot>
    </table>
    <h2>Total : <span id="total_display">0 euros</span></h2>
  </div>
</div>
					
					</div>
				</div>
			</main>

			<div class="site-footer">
				<div class="container">
					<div class="row">
						<div class="col-md-2">
							<div class="widget">
								<h3 class="widget-title">Információ</h3>
								<ul class="no-bullet">
									<li><a href="#">Rólunk</a></li>
									<li><a href="#">Gyarkori Kérdések</a></li>
									<li><a href="#">Információ Tárolás</a></li>
									<li><a href="#">Kontakt</a></li>
								</ul>
							</div>
						</div>
						<div class="col-md-2">
							<div class="widget">
								<h3 class="widget-title">Fiókom</h3>
								<ul class="no-bullet">
									<li><a href="#">Belépés/Regisztráció</a></li>
									<li><a href="#">Beállítások</a></li>
									<li><a href="#">Kosár</a></li>
									<li><a href="#">Kijelentkezés</a></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="colophon">
						<div class="copy">Copyright 2022 Geon. All rights reserved.</div>
						<div class="social-links square">
							<a href="#"><i class="fa fa-facebook"></i></a>
							<a href="#"><i class="fa fa-twitter"></i></a>
							<a href="#"><i class="fa fa-google-plus"></i></a>
							<a href="#"><i class="fa fa-pinterest"></i></a>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="overlay"></div>

		<div class="auth-popup popup">
			<a href="#" class="close"><i class="fa fa-times"></i></a>
			<div class="row">
				<div class="col-md-6">
					<h2 class="section-title">Belépés</h2>
					<form action="#">
						<input type="text" placeholder="Felhasználónév">
						<input type="password" placeholder="Jelszó">
						<input type="submit" value="Belépés">
					</form>
				</div>
				<div class="col-md-6">
					<h2 class="section-title">Regisztráció</h2>
					<form action="#">
						<input type="text" placeholder="Felhasználónév">
						<input type="text" placeholder="Email cím">
						<input type="submit" value="Regisztráció">
					</form>
				</div>
			</div>
		</div>

		<script src="js/jquery-1.11.1.min.js"></script>
		<script src="js/plugins.js"></script>
		<script src="js/app.js"></script>
		
		<script>
			
		var jatek1 = 1000
			
			document.getElementById("add_button").addEventListener("click", checkInput);
document.querySelectorAll(".remove").forEach(removebtn => removebtn.addEventListener("click", removeProduct));
document.querySelectorAll(".quantity").forEach(qty => qty.addEventListener("change", changeSubtotal));
total();

// Check if input is empty
function checkInput(){
	let nameProduct = document.getElementById("name_product");
	if (nameProduct.value != "") {
		addProduct();
		total();
	}
}

// Add a product
function addProduct(){
	let nameProduct = document.getElementById("name_product");
	let temp = document.getElementById("name_product").value;
	console.log(temp)
	let priceProduct = 0
	if (temp === "jatek1") {
		let priceProduct = jatek1
	}
	
	alert(priceProduct)
	console.log(priceProduct)

	let tbody = document.getElementById("all_products");
	let tr = tbody.insertRow();
	let td1 = tr.insertCell(0);
	let td2 = tr.insertCell(1);
	let td3 = tr.insertCell(2);
	let td4 = tr.insertCell(3);
	let td5 = tr.insertCell(4);

	td1.innerHTML = nameProduct.value;
	td2.innerHTML = priceProduct;
	td3.innerHTML = '<input type="number" class="quantity" value="1" min="0">';
	td4.innerHTML = priceProduct;
	td5.innerHTML = '<button type="button" class="remove">Remove</i></button>';

	td3.addEventListener("change", changeSubtotal);
	td5.addEventListener("click", removeProduct);

	nameProduct.value = "";
}

// Change subtotal
function changeSubtotal(element) {
	let price = this.previousElementSibling.innerHTML;
	let quantity = element.target.value; 
	let subtotal = parseFloat(price * quantity).toFixed(2);
	this.nextElementSibling.innerHTML = subtotal;
	total();
}

// Remove a product
function removeProduct() {
	this.parentElement.parentElement.removeChild(this.parentElement);
	total();
}

// Sum total
function total(){
	let totalDisplay = document.getElementById("total_display");
	let sum = 0;
	let tbody = document.getElementById("all_products");
	for (let i = 0; i < tbody.rows.length; i++) {
		sum = sum + parseFloat(tbody.rows[i].cells[3].innerHTML);
	}
	let total = sum.toFixed(2);
	totalDisplay.innerHTML = total + " euros";
}

		</script>
		
	</body>

</html>
